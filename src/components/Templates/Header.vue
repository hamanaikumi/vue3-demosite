<template>
  <div class="header">
    <router-link class="router-link" to="/">
      <div class="header-logo">
        <svg
          width="48"
          height="48"
          viewBox="0 0 73 76"
          fill="#3c3c3c"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 70.7586H73V76H0V70.7586ZM58.6607 26.2069H15.6429C14.2604 26.2083 12.9349 26.7609 11.9573 27.7436C10.9798 28.7262 10.43 30.0586 10.4286 31.4483V52.4138C10.4327 55.8878 11.8074 59.2183 14.2512 61.6747C16.695 64.1312 20.0083 65.5131 23.4643 65.5172H44.3214C47.7774 65.5131 51.0907 64.1312 53.5345 61.6747C55.9783 59.2183 57.353 55.8878 57.3571 52.4138V49.7931H58.6607C61.7723 49.7931 64.7564 48.5506 66.9566 46.339C69.1568 44.1273 70.3929 41.1277 70.3929 38C70.3929 34.8723 69.1568 31.8727 66.9566 29.661C64.7564 27.4494 61.7723 26.2069 58.6607 26.2069V26.2069ZM52.1429 52.4138C52.1408 54.4983 51.3161 56.4968 49.8497 57.9708C48.3834 59.4448 46.3952 60.2738 44.3214 60.2759H23.4643C21.3905 60.2738 19.4023 59.4448 17.936 57.9708C16.4696 56.4968 15.6449 54.4983 15.6429 52.4138V31.4483H52.1429V52.4138ZM58.6607 44.5517H57.3571V31.4483H58.6607C60.3894 31.4483 62.0472 32.1385 63.2695 33.3672C64.4919 34.5959 65.1786 36.2624 65.1786 38C65.1786 39.7376 64.4919 41.4041 63.2695 42.6328C62.0472 43.8615 60.3894 44.5517 58.6607 44.5517ZM44.3214 20.9655H39.1071V20.5829C39.111 19.6088 38.8431 18.6532 38.3338 17.8245C37.8246 16.9958 37.0945 16.3271 36.2263 15.8945L29.2261 12.3801C27.4902 11.5141 26.0304 10.1767 25.0121 8.51941C23.9937 6.86212 23.4575 4.95124 23.4643 3.00331V0H28.6786V3.00331C28.6754 3.97724 28.9435 4.93262 29.4527 5.76124C29.9618 6.58985 30.6916 7.2586 31.5595 7.69172L38.557 11.2061C40.2932 12.072 41.7533 13.4093 42.7721 15.0665C43.7909 16.7238 44.3276 18.6348 44.3214 20.5829V20.9655Z"
            fill="#3c3c3c"
          />
        </svg>
        <h1>Sample Cafe</h1>
      </div>
    </router-link>
    <div class="header-menu__tab">
      <div v-for="(menu, i) of propsValue" :key="i">
        <MenuText :link="menu.link" :text="menu.text" />
      </div>
      <div class="header-icon">
        <svg
          class="svg"
          width="26"
          height="26"
          viewBox="0 0 44 35"
          fill="#3c3c3c"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M44 4.15164C42.3819 4.85321 40.6437 5.32725 38.8164 5.54151C40.7018 4.43756 42.1125 2.70008 42.785 0.653256C41.0135 1.68284 39.0748 2.40756 37.0529 2.7959C35.6933 1.37543 33.8925 0.433922 31.93 0.117546C29.9675 -0.198829 27.9532 0.127629 26.1997 1.04624C24.4463 1.96484 23.0518 3.42421 22.2328 5.19775C21.4139 6.97129 21.2162 8.95978 21.6706 10.8545C18.0811 10.6782 14.5697 9.76526 11.3642 8.17507C8.15862 6.58488 5.33062 4.35294 3.06368 1.62408C2.28856 2.93242 1.84286 4.44933 1.84286 6.06485C1.842 7.51918 2.20801 8.95124 2.90842 10.234C3.60884 11.5167 4.622 12.6104 5.85801 13.4181C4.42456 13.3735 3.02274 12.9945 1.76922 12.3126V12.4264C1.76908 14.4662 2.49015 16.4432 3.8101 18.0219C5.13004 19.6007 6.96755 20.684 9.01083 21.088C7.68107 21.4401 6.28692 21.492 4.93367 21.2397C5.51017 22.9948 6.63313 24.5295 8.14534 25.6291C9.65756 26.7287 11.4833 27.338 13.367 27.3718C10.1693 29.8281 6.22016 31.1605 2.15485 31.1546C1.43472 31.1548 0.715201 31.1136 0 31.0314C4.12653 33.6275 8.93011 35.0053 13.836 35C30.4431 35 39.5217 21.5412 39.5217 9.86851C39.5217 9.48928 39.512 9.10626 39.4946 8.72703C41.2605 7.47742 42.7848 5.93002 43.9961 4.15733L44 4.15164V4.15164Z"
          />
        </svg>
        <svg
          class="svg"
          width="28"
          height="28"
          viewBox="0 0 42 42"
          fill="#3c3c3c"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12.3423 0.126C14.5816 0.0229091 15.2956 0 21 0C26.7044 0 27.4184 0.0248182 29.6558 0.126C31.8933 0.227182 33.4205 0.584182 34.7569 1.10155C36.1563 1.63036 37.4258 2.457 38.4758 3.52609C39.5449 4.57418 40.3696 5.84182 40.8965 7.24309C41.4158 8.57945 41.7709 10.1067 41.874 12.3404C41.9771 14.5835 42 15.2975 42 21C42 26.7044 41.9752 27.4184 41.874 29.6577C41.7728 31.8914 41.4158 33.4186 40.8965 34.755C40.3696 36.1565 39.5435 37.4262 38.4758 38.4758C37.4258 39.5449 36.1563 40.3696 34.7569 40.8965C33.4205 41.4158 31.8933 41.7709 29.6596 41.874C27.4184 41.9771 26.7044 42 21 42C15.2956 42 14.5816 41.9752 12.3423 41.874C10.1086 41.7728 8.58136 41.4158 7.245 40.8965C5.84358 40.3696 4.57384 39.5435 3.52418 38.4758C2.45582 37.4271 1.62906 36.158 1.10155 34.7569C0.584182 33.4205 0.229091 31.8933 0.126 29.6596C0.0229091 27.4165 0 26.7025 0 21C0 15.2956 0.0248182 14.5816 0.126 12.3442C0.227182 10.1067 0.584182 8.57945 1.10155 7.24309C1.62983 5.84197 2.45723 4.57287 3.52609 3.52418C4.57426 2.45605 5.84272 1.6293 7.24309 1.10155C8.57945 0.584182 10.1067 0.229091 12.3404 0.126H12.3423ZM29.4859 3.906C27.2714 3.80482 26.607 3.78382 21 3.78382C15.393 3.78382 14.7286 3.80482 12.5141 3.906C10.4656 3.99955 9.35455 4.34127 8.61382 4.62955C7.63445 5.01136 6.93382 5.46382 6.19882 6.19882C5.50209 6.87664 4.96589 7.70181 4.62955 8.61382C4.34127 9.35455 3.99955 10.4656 3.906 12.5141C3.80482 14.7286 3.78382 15.393 3.78382 21C3.78382 26.607 3.80482 27.2714 3.906 29.4859C3.99955 31.5344 4.34127 32.6455 4.62955 33.3862C4.96555 34.2968 5.502 35.1235 6.19882 35.8012C6.87655 36.498 7.70318 37.0345 8.61382 37.3705C9.35455 37.6587 10.4656 38.0005 12.5141 38.094C14.7286 38.1952 15.3911 38.2162 21 38.2162C26.6089 38.2162 27.2714 38.1952 29.4859 38.094C31.5344 38.0005 32.6455 37.6587 33.3862 37.3705C34.3655 36.9886 35.0662 36.5362 35.8012 35.8012C36.498 35.1235 37.0345 34.2968 37.3705 33.3862C37.6587 32.6455 38.0005 31.5344 38.094 29.4859C38.1952 27.2714 38.2162 26.607 38.2162 21C38.2162 15.393 38.1952 14.7286 38.094 12.5141C38.0005 10.4656 37.6587 9.35455 37.3705 8.61382C36.9886 7.63445 36.5362 6.93382 35.8012 6.19882C35.1233 5.50214 34.2982 4.96595 33.3862 4.62955C32.6455 4.34127 31.5344 3.99955 29.4859 3.906V3.906ZM18.3177 27.4737C19.8157 28.0973 21.4837 28.1815 23.0369 27.7118C24.59 27.2422 25.9319 26.2479 26.8334 24.8988C27.7349 23.5497 28.1401 21.9295 27.9797 20.3148C27.8193 18.7002 27.1034 17.1913 25.9541 16.0459C25.2215 15.3137 24.3356 14.7531 23.3603 14.4044C22.385 14.0556 21.3445 13.9275 20.3137 14.0292C19.2829 14.1308 18.2875 14.4598 17.3991 14.9923C16.5107 15.5249 15.7514 16.2478 15.1759 17.109C14.6005 17.9702 14.2231 18.9483 14.071 19.9728C13.9189 20.9974 13.9958 22.0429 14.2963 23.0342C14.5968 24.0254 15.1133 24.9377 15.8086 25.7054C16.504 26.473 17.3609 27.077 18.3177 27.4737ZM13.3675 13.3675C14.3698 12.3651 15.5597 11.5701 16.8693 11.0276C18.1789 10.4851 19.5825 10.206 21 10.206C22.4175 10.206 23.8211 10.4851 25.1307 11.0276C26.4403 11.57 27.6302 12.3651 28.6325 13.3675C29.6349 14.3698 30.4299 15.5597 30.9724 16.8693C31.5149 18.1789 31.794 19.5825 31.794 21C31.794 22.4175 31.5149 23.8211 30.9724 25.1307C30.4299 26.4403 29.6349 27.6302 28.6325 28.6325C26.6083 30.6568 23.8628 31.794 21 31.794C18.1372 31.794 15.3917 30.6568 13.3675 28.6325C11.3432 26.6083 10.206 23.8628 10.206 21C10.206 18.1372 11.3432 15.3917 13.3675 13.3675V13.3675ZM34.188 11.8135C34.4364 11.5791 34.6352 11.2974 34.7728 10.9849C34.9103 10.6723 34.9837 10.3354 34.9887 9.99396C34.9937 9.65254 34.9301 9.31359 34.8017 8.99718C34.6734 8.68077 34.4828 8.39334 34.2414 8.15189C33.9999 7.91045 33.7125 7.7199 33.3961 7.59153C33.0797 7.46317 32.7407 7.39959 32.3993 7.40457C32.0579 7.40954 31.7209 7.48298 31.4084 7.62051C31.0959 7.75805 30.8141 7.95689 30.5798 8.20527C30.1241 8.68833 29.8747 9.32996 29.8843 9.99396C29.894 10.658 30.1621 11.292 30.6317 11.7616C31.1012 12.2312 31.7353 12.4993 32.3993 12.5089C33.0633 12.5186 33.7049 12.2691 34.188 11.8135V11.8135Z"
          />
        </svg>
      </div>
    </div>
    <div
      class="header-menu__sp"
      @click="menuSwitch"
      v-bind:class="{ 'header-menu__active': state.isActive }"
    >
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
  <transition name="slide">
    <modal v-show="state.isActive" />
  </transition>
</template>
<script lang="ts">
import { defineComponent, ref } from "vue";
import MenuText from "../Atoms/MenuText.vue";
import Modal from "./Modal.vue";

export default defineComponent({
  components: { Modal, MenuText },
  setup() {
    const state = ref({
      // モーダルの開閉判定
      isActive: false,
    });
    // リンク一覧
    const propsValue = [
      {
        link: "/Menu",
        text: "Menu",
      },
      {
        link: "/Shop",
        text: "Shop",
      },
      {
        link: "/Recruit",
        text: "Recruit",
      },
      {
        link: "/Edit",
        text: "Edit",
      },
    ];
    /**
     * モバイルの際のモーダル表示を切り替える.
     */
    const menuSwitch = () => {
      state.value.isActive = !state.value.isActive;
    };

    return { state, propsValue, menuSwitch };
  },
});
</script>
<style lang="scss" scoped>
.header {
  height: 120px;
  display: flex;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 2;
  background-color: $white;
  &-logo {
    display: flex;
    h1 {
      padding: 0 12px;
      font-size: 2rem;
    }
  }
  &-icon {
    display: flex;
    .svg {
      margin: 0 24px;
      width: 40px;
      &:hover {
        fill: $light-gray;
        cursor: pointer;
        transition: all 0.3s ease;
        transform: scale(1.1);
      }
    }
  }

  &-menu__tab {
    @include menuText;
    @include tab {
      display: none;
    }
    display: flex;
  }

  @include tab {
    &-menu__sp {
      transition: all 0.4s;
      box-sizing: border-box;
      position: relative;
      width: 40px;
      height: 40px;
      border: none;
      cursor: pointer;

      span {
        display: inline-block;
        transition: all 0.2s;
        box-sizing: border-box;

        position: absolute;
        left: 0;
        width: 100%;
        height: 4px;
        border-radius: 4px;

        color: #3333;
        background: currentColor;
        cursor: pointer;

        &:nth-of-type(1) {
          top: 0;
        }
        &:nth-of-type(2) {
          top: 18px;
        }
        &:nth-of-type(3) {
          bottom: 0px;
        }
      }
    }
  }

  &-menu__active {
    span {
      &:nth-of-type(1) {
        transform: translateY(12px) rotate(45deg);
      }
      &:nth-of-type(2) {
        opacity: 0;
      }
      &:nth-of-type(3) {
        transform: translateY(-24px) rotate(-45deg);
      }
    }
  }
}

.slide-enter-active,
.slide-leave-active {
  transition: opacity 0.5s;
}
.slide-enter, .slide-leave-to
 /* .fade-leave-active below version 2.1.8 */ {
  opacity: 0;
}
</style>
